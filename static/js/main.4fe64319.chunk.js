(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{44:function(e,t,a){e.exports={wrapper:"ContentWithProps_wrapper__1uUXk",link:"ContentWithProps_link__3hsXc"}},70:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=(a(70),a(120)),s=a(118),u=a(2),l=Object(s.a)((function(e){return{footerContainer:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),marginTop:"auto"}}})),j=function(){var e=l();return Object(u.jsx)("div",{className:e.footerContainer,children:Object(u.jsx)(o.a,{align:"center",color:"textSecondary",component:"p",variant:"subtitle1",children:"Made By Saurocket))"})})},d=a(123),p=a(124),b=a(125),f=a(15),g=a.n(f),m=a(18),O=a(12),h=a(130),x=a(62),v=a(129),w=a(122),S=a(121),y=a(60),E=a.n(y),C=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(O.a)(c,2),o=i[0],s=i[1];return{loading:a,request:Object(n.useCallback)(Object(m.a)(g.a.mark((function e(){var t,a,n,c,i,o,u=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:"",a=u.length>1&&void 0!==u[1]?u[1]:1,n="https://pixabay.com/api/",c="21822388-90e2619eec9f9ca7d32baa228",r(!0),e.prev=5,e.next=8,fetch("".concat(n,"?q=").concat(t,"&page=").concat(a,"&key=").concat(c,"&image_type=photo&orientation=horizontal&per_page=12"));case 8:return i=e.sent,e.next=11,i.json();case 11:if(o=e.sent,i.ok){e.next=14;break}throw new Error(o.message||"something went not well");case 14:return r(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(5),r(!1),s(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[5,18]])}))),[]),error:o,clearError:Object(n.useCallback)((function(){return s(null)}),[])}},T=a(131),_=Object(s.a)((function(e){return Object(h.a)({root:{position:"absolute",bottom:"-25px",left:"-1px",width:"100%","& > * + *":{marginTop:e.spacing(2)}}})})),k=function(){var e=_();return Object(u.jsx)("div",{className:e.root,children:Object(u.jsx)(T.a,{})})},N=a(45),A=a(16),P=Object(n.createContext)({state:{images:[],total:0,searchValue:null,currentPage:1}}),I=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){switch(t.type){case"SET_IMAGES":return Object(A.a)(Object(A.a)({},e),{},{total:t.payload.total,images:[].concat(Object(N.a)(e.images),Object(N.a)(t.payload.images))});case"SET_SEARCH_VALUE":return Object(A.a)(Object(A.a)({},e),{},{searchValue:t.payload});case"CLEAR_STATE":return Object(A.a)(Object(A.a)({},e),{},{images:[],currentPage:1,total:0});case"SET_CURRENT_PAGE":return Object(A.a)(Object(A.a)({},e),{},{currentPage:t.payload});default:return e}}),{images:[],total:0,searchValue:"girl",currentPage:1}),r=Object(O.a)(a,2),c=r[0],i=r[1];return Object(u.jsx)(P.Provider,{value:{state:c,actions:{setImage:function(e){return{type:"SET_IMAGES",payload:e}},setSearchValue:function(e){return{type:"SET_SEARCH_VALUE",payload:e}},clearStateImage:function(){return{type:"CLEAR_STATE"}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",payload:e}}},dispatch:i},children:t})},R=function(){return Object(n.useContext)(P)},M=a(59),V=a.n(M),G=function(){return{SweetAlert:function(e,t){Object(n.useEffect)((function(){e&&V.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:'<a href="#">'.concat(e,"</a>")}),t()}),[e,t])}}},B=Object(s.a)((function(e){return Object(h.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400,position:"relative"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),L=function(){var e=B(),t=G().SweetAlert,a=R(),r=a.actions,c=a.dispatch,i=a.state,o=C(),s=o.request,l=o.loading,j=o.error,d=o.clearError,p=Object(n.useState)(i.searchValue),b=Object(O.a)(p,2),f=b[0],h=b[1];return t(j,d),Object(u.jsxs)(x.a,{component:"form",className:e.root,onSubmit:function(e){return function(e){e.preventDefault(),function(){var e=Object(m.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(f);case 3:t=e.sent,c(r.setSearchValue(f)),c(r.clearStateImage()),c(r.setImage({images:t.hits,total:t.total})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}(e)},children:[Object(u.jsx)(S.a,{type:"submit",className:e.iconButton,"aria-label":"search",children:Object(u.jsx)(E.a,{})}),Object(u.jsx)(w.a,{className:e.divider,orientation:"vertical"}),Object(u.jsx)(v.a,{value:f,onChange:function(e){return function(e){h(e.target.value)}(e)},className:e.input,placeholder:"Search image by name",inputProps:{"aria-label":"Search image by names"}}),Object(u.jsx)(w.a,{className:e.divider,orientation:"vertical"}),l&&Object(u.jsx)(k,{})]})},U=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"center"}}})),q=function(){var e=U();return Object(u.jsx)(d.a,{position:"fixed",children:Object(u.jsx)(p.a,{fixed:!0,children:Object(u.jsx)(b.a,{className:e.root,children:Object(u.jsx)(L,{})})})})},F=a(128),W=a.p+"static/media/404.c832212f.png",H=Object(s.a)((function(e){return{cardMedia:{textAlign:"center"}}})),J=function(){var e=H();return Object(u.jsx)(p.a,{className:e.cardMedia,children:Object(u.jsx)("img",{src:W,alt:"not found"})})},X=a(126),z=a(127),D=a(33),K={settings:{overlayColor:"rgba(0, 0, 0, 0.95)",autoplaySpeed:1500,transitionSpeed:900},buttons:{backgroundColor:"rgba(254,45,23,0.4)",iconColor:"rgba(126, 172, 139, 0.8)"},caption:{captionColor:"#a6cfa5",captionFontFamily:"Raleway, sans-serif",captionFontWeight:"300",captionTextTransform:"uppercase"}},Q=a(44),Y=a.n(Q),Z=Object(s.a)((function(){return{card:{width:"280px",height:"160px",animation:"showImage 1s forwards "},cardMedia:{paddingTop:"56.25%"},wrapperGrid:{animation:"showImage 1s forwards "}}})),$=function(e){var t=e.img,a=Z();return Object(u.jsx)(D.a,{options:K,children:Object(u.jsx)(X.a,{className:a.wrapperGrid,container:!0,spacing:4,children:t.map((function(e){return Object(u.jsx)(X.a,{item:!0,xs:12,sm:6,md:4,children:Object(u.jsx)(z.a,{className:a.card,children:Object(u.jsx)("a",{className:Y.a.link,href:e.largeImageURL,children:Object(u.jsx)("img",{className:Y.a.wrapper,src:e.previewURL,alt:e.tags})})})},e.id)}))})})},ee=a(34),te=a.p+"static/media/spiner.a55b80b8.svg",ae=Object(s.a)((function(e){return{cardMedia:{textAlign:"center"}}})),ne=function(){var e=ae();return Object(u.jsx)(p.a,{className:e.cardMedia,children:Object(u.jsx)("img",{src:te,alt:"spinner"})})},re=Object(s.a)((function(e){return{mainContent:{paddingTop:e.spacing(10)},cardGrid:{marginTop:e.spacing(4),textAlign:"center"},button:{marginTop:e.spacing(2)}}})),ce=function(){var e=C(),t=e.request,a=e.error,r=e.loading,c=e.clearError,i=G().SweetAlert,o=R(),s=o.state,l=o.actions,j=o.dispatch,d=Object(n.useState)(!1),b=Object(O.a)(d,2),f=b[0],h=b[1],x=Object(n.useState)([]),v=Object(O.a)(x,2),w=v[0],S=v[1],y=Object(n.useState)(1),E=Object(O.a)(y,2),T=E[0],_=E[1];Object(n.useEffect)((function(){s.total>12*T?h(!0):h(!1)}),[s.total,T]),Object(n.useEffect)((function(){S(s.images.filter((function(e,t,a){return t===a.findIndex((function(t){return t.id===e.id}))})))}),[s.images]);Object(n.useEffect)((function(){_(s.currentPage)}),[s.currentPage]),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(s.searchValue,T);case 3:a=e.sent,j(l.setImage({images:a.hits,total:a.total})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[T]),i(a,c);var k=re();return Object(u.jsx)("div",{className:k.mainContent,children:Object(u.jsxs)(p.a,{className:k.cardGrid,maxWidth:"md",children:[w.length>0?Object(u.jsx)($,{img:w}):r?Object(u.jsx)(ne,{}):Object(u.jsx)(J,{}),f&&Object(u.jsx)(ee.Element,{name:"scrollBtn",children:Object(u.jsx)(F.a,{disabled:r,className:k.button,variant:"contained",color:"primary",onClick:function(){j(l.setCurrentPage(T+1)),ee.scroller.scrollTo("scrollBtn",{duration:1500,delay:100,smooth:!0,offset:50})},children:"load more"})})]})})};var ie=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(q,{}),Object(u.jsx)(ce,{}),Object(u.jsx)(j,{})]})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(I,{children:Object(u.jsx)(D.b,{children:Object(u.jsx)(ie,{})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.4fe64319.chunk.js.map